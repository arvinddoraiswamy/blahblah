import operator
import sys
import os
import itertools
import re

#Adding directory to the path where Python searches for modules
cmd_folder = os.path.dirname('/home/arvind/Documents/Me/My_Projects/Git/Crypto/modules/')
sys.path.insert(0, cmd_folder)

#Importing common crypto module
import utility
import common

if __name__ == "__main__":
    #buffer= 'We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote the general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.We the People of the United States, in Order to form a more perfect Union, establish Justice, insure domestic Tranquility, provide for the common defense, promote t    he general Welfare, and secure the Blessings of Liberty to ourselves and our Posterity, do ordain and establish this Constitution for the United States of America.' 

    buffer="Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!uid!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!uid!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!uid!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!uid!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!uid!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!uid!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/Vd!uid!Qdnqmd!ng!uid!Tohude!Ru`udr-!ho!Nseds!un!gnsl!`!lnsd!qdsgdbu!Tohno-!dru`cmhri!Ktruhbd-!hortsd!enldruhb!Us`opthmhux-!qsnwhed!gns!uid!bnllno!edgdord-!qsnlnud!u!!!!id!fdods`m!Vdmg`sd-!`oe!rdbtsd!uid!Cmdrrhofr!ng!Mhcdsux!un!ntsrdmwdr!`oe!nts!Qnrudshux-!en!nse`ho!`oe!dru`cmhri!uihr!Bnoruhutuhno!gns!uid!Tohude!Ru`udr!ng!@ldshb`/"
    key= "\x01"
    hex_result= utility.xor_repetitive(buffer,key)
    ascii_result= utility.hex_to_ascii(hex_result)
    print ascii_result
    sys.exit(0)

    t1= utility.xor_repetitive(ascii_result,key)
    verify_buffer= utility.hex_to_ascii(t1)

    if buffer == verify_buffer:
        print 'Decryption successful :)'
    else:
        print 'Decryption failed :('
